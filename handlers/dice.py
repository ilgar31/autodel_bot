from aiogram import Router, types
from aiogram import F  # –ò—Å–ø–æ–ª—å–∑—É–µ–º F –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
import random
from aiogram.utils.keyboard import InlineKeyboardBuilder, ReplyKeyboardMarkup, KeyboardButton
import time
from aiogram.types import BufferedInputFile
from keyboards.main_menu import get_main_menu
from aiogram.fsm.context import FSMContext
from config import ADMINS

router = Router()

dealers = {
    "–ú–æ—Å–∫–≤–∏—á": {
        "phone": "+7 (978) 835-38-35",
        "description": '–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π "–ú–æ—Å–∫–≤–∏—á". –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –Ω–∞–¥–µ–∂–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å —É—á–µ—Ç–æ–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –¥–æ—Ä–æ–≥. –ò–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ü–µ–Ω–∏—Ç –∫–æ–º—Ñ–æ—Ä—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.',
        "photo": "photos/–ú–æ—Å–∫–≤–∏—á.jpg",
        "car": "cars/–ú–æ—Å–∫–≤–∏—á.png",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 187"
    },
    "BMW": {
        "phone": "+7 (978) 835-38-35",
        "description": "–î–∏–ª–µ—Ä—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä BMW ‚Äî —ç—Ç–æ —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Ä–æ—Å–∫–æ—à–∏, –∏–Ω–Ω–æ–≤–∞—Ü–∏–π –∏ –≤—ã—Å–æ–∫–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞—é—Ç –≤–∞—à —Å—Ç–∞—Ç—É—Å –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–µ–ø—Ä–µ–≤–∑–æ–π–¥–µ–Ω–Ω–æ–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –æ—Ç –≤–æ–∂–¥–µ–Ω–∏—è.",
        "photo": "photos/BMW.jpg",
        "car": "cars/BMW.png",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, –ø—Ä. –ü–æ–±–µ–¥—ã, 110"
    },
    "Hyundai": {
        "phone": "+7 (978) 835-70-07",
        "description": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä Hyundai. –ê–≤—Ç–æ–º–æ–±–∏–ª–∏ Hyundai ‚Äî —ç—Ç–æ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, —Å—Ç–∏–ª—å –∏ –ø–µ—Ä–µ–¥–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ–π —Ü–µ–Ω–µ. –ú—ã –∑–∞–±–æ—Ç–∏–º—Å—è –æ –≤–∞—à–µ–º –∫–æ–º—Ñ–æ—Ä—Ç–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–æ—Ä–æ–≥–µ.",
        "photo": "photos/Hyundai.jpg",
        "car": "cars/Hyundai.jpg",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª–∏—Ü–∞ –ö–∏–µ–≤—Å–∫–∞—è, 187-–í"
    },
    "Kaiyi": {
        "phone": "+7 (978) 771-00-00",
        "description": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¥–∏–ª–µ—Ä—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä Kaiyi! –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å—Ç–∏–ª—å–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—á–µ—Ç–∞—é—Ç –≤ —Å–µ–±–µ –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.",
        "photo": "photos/Kaiyi.jpg",
        "car": "cars/Kaiyi.jpg",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, –ø—Ä. –ü–æ–±–µ–¥—ã, 110"
    },
    "Soueast": {
        "phone": "+7 (978) 774-03-03",
        "description": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä Soueast. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –ø–æ–µ–∑–¥–æ–∫ –∏ –¥–∞–ª—å–Ω–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –∫–æ–º—Ñ–æ—Ä—Ç ‚Äî –Ω–∞—à –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.",
        "photo": "photos/Soueast.jpg",
        "car": "cars/Soueast.jpeg",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, –ø—Ä. –ü–æ–±–µ–¥—ã, 110"
    },
    "Jetour": {
        "phone": "+7 (978) 752-40-00",
        "description": "–î–∏–ª–µ—Ä—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä Jetour. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–µ–ª—è—é—Ç—Å—è —Å–≤–æ–∏–º —Å—Ç–∏–ª–µ–º, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç—å—é –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é. Jetour ‚Äî —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–æ–¥–∏—Ç–µ–ª–µ–π.",
        "photo": "photos/Jetour.jpg",
        "car": "cars/Jetour.png",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è 187"
    },
    "Evolute": {
        "phone": "+7 (978) 755-00-30",
        "description": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä Evolute. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—á–µ—Ç–∞—é—Ç –≤ —Å–µ–±–µ —ç–∫–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç—å, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏ –ø–µ—Ä–µ–¥–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.",
        "photo": "photos/Evolute.jpg",
        "car": "cars/Evolute.png",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 187"
    },
    "Lexus": {
        "phone": "+7 (978) 755-00-30",
        "description": "–°–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä Lexus ‚Äî —ç—Ç–æ —ç—Ç–∞–ª–æ–Ω –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ –∑–∞–±–æ—Ç—ã –æ –≤–∞—à–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–µ. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –∫–æ–º—Ñ–æ—Ä—Ç –∏ –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è. –î–æ–≤–µ—Ä—å—Ç–µ—Å—å –Ω–∞–º, —á—Ç–æ–±—ã –≤–∞—à Lexus –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–≤–∞–ª—Å—è –≤ –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.",
        "photo": "photos/Lexus.jpg",
        "car": "cars/Lexus.jpg",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 187"
    },
    "Gaz": {
        "phone": "+7 (3652) 88-74-58",
        "description": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π GAZ. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –Ω–∞–¥–µ–∂–Ω—ã–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏.",
        "photo": "photos/Gaz.png",
        "car": "cars/Gaz.jpg",
        "address": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º, –ë–µ–ª–æ–≥–ª–∏–Ω–∫–∞, —É–ª. –°–∞–ª–≥–∏—Ä–Ω–∞—è, 10-–ê"
    },
    "Jac": {
        "phone": "+7 (3652) 77-94-13",
        "description": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¥–∏–ª–µ—Ä—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä JAC! –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—á–µ—Ç–∞—é—Ç –≤ —Å–µ–±–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω. –ò–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –≥–æ—Ä–æ–¥–∞ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.",
        "photo": "photos/Jac.jpg",
        "car": "cars/JAC.png",
        "address": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º, –ë–µ–ª–æ–≥–ª–∏–Ω–∫–∞, —É–ª. –°–∞–ª–≥–∏—Ä–Ω–∞—è, 10-–ê"
    },
    "Solaris": {
        "phone": "+7 (978) 835-70-07",
        "description": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä Solaris. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–µ–ª—è—é—Ç—Å—è —Å–≤–æ–∏–º —Å—Ç–∏–ª–µ–º, –∫–æ–º—Ñ–æ—Ä—Ç–æ–º –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é. Solaris ‚Äî –≤–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–∞ –¥–æ—Ä–æ–≥–µ.",
        "photo": "photos/Solaris.jpg",
        "car": "cars/Solaris.jpg",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 187, –∫–æ—Ä–ø. 1"
    },
    "–£–ê–ó": {
        "phone": "+7 (978) 000-10-80",
        "description": "–î–∏–ª–µ—Ä—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –£–ê–ó. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –ª—é–±—ã—Ö –¥–æ—Ä–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π. –£–ê–ó ‚Äî —ç—Ç–æ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –º–æ—â—å –≤ –∫–∞–∂–¥–æ–π –ø–æ–µ–∑–¥–∫–µ.",
        "photo": "photos/–£–ê–ó.jpg",
        "car": "cars/–£–ê–ó.png",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 187 –ª–∏—Ç–µ—Ä–∞ –í"
    },
    "Voyah": {
        "phone": "+7 (978) 755-00-30",
        "description": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä Voyah. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—á–µ—Ç–∞—é—Ç –≤ —Å–µ–±–µ —Ä–æ—Å–∫–æ—à—å, —ç–∫–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä–µ–¥–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. Voyah ‚Äî —ç—Ç–æ –±—É–¥—É—â–µ–µ –Ω–∞ –¥–æ—Ä–æ–≥–∞—Ö.",
        "photo": "photos/Voyah.png",
        "car": "cars/Voyah.png",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è 187"
    },
    "Dongfeng": {
        "phone": "+7 (978) 877-10-00",
        "description": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¥–∏–ª–µ—Ä—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä Dongfeng! –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—á–µ—Ç–∞—é—Ç –≤ —Å–µ–±–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω. –ò–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –≥–æ—Ä–æ–¥–∞ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.",
        "photo": "photos/Dongfeng.jpg",
        "car": "cars/Dongfeng.png",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 187-–í"
    },
    # "Geely": {
    #     "phone": "+7 (978) 818-01-01",
    #     "description": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä Geely. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Å—Ç–∏–ª—å–Ω—ã–µ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞—é—Ç –≤–∞—à —Å—Ç–∞—Ç—É—Å –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ–º—Ñ–æ—Ä—Ç –Ω–∞ –¥–æ—Ä–æ–≥–µ.",
    #     "photo": "photos/Geely.jpg",
    #    "car": "cars/",
    #    "address": ""
    # },
    "Sollers": {
        "phone": "+7 (978) 311-10-10",
        "description": "–î–∏–ª–µ—Ä—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä Sollers. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ –æ—Ç–¥—ã—Ö–∞. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å ‚Äî –Ω–∞—à –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.",
        "photo": "photos/Sollers.jpg",
        "car": "cars/Sollers.png",
        "address": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º, –ë–µ–ª–æ–≥–ª–∏–Ω–∫–∞, —É–ª. –°–∞–ª–≥–∏—Ä–Ω–∞—è, 10-–ê"
    },
    "Toyota": {
        "phone": "+7 (978) 788-00-30",
        "description": "–°–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä Toyota ‚Äî —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º–∞. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–ª–Ω—ã–π —Å–ø–µ–∫—Ç—Ä —É—Å–ª—É–≥ –ø–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é –∏ —Ä–µ–º–æ–Ω—Ç—É –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π Toyota. –ù–∞—à–∏ –≤—ã—Å–æ–∫–æ–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–∞–ø—á–∞—Å—Ç–∏ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã –≤–∞—à –∞–≤—Ç–æ–º–æ–±–∏–ª—å –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–≤–∞–ª—Å—è –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.",
        "photo": "photos/Toyota.jpg",
        "car": "cars/Toyota.jpg",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 187"
    },
    "Nissan": {
        "phone": "+7 (978) 836-08-08",
        "description": "–°–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä Nissan ‚Äî —ç—Ç–æ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –ø–µ—Ä–µ–¥–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è. –ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —É—Å–ª—É–≥–∏ –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ, —Ä–µ–º–æ–Ω—Ç—É –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π Nissan. –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –∑–∞–±–æ—Ç—É –æ –≤–∞—à–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–µ, —á—Ç–æ–±—ã –æ–Ω –≤—Å–µ–≥–¥–∞ —Ä–∞–¥–æ–≤–∞–ª –≤–∞—Å —Å–≤–æ–µ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é –∏ –∫–æ–º—Ñ–æ—Ä—Ç–æ–º.",
        "photo": "photos/Nissan.jpg",
        "car": "cars/Nissan.jpg",
        "address": "–≥. –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å, —É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 187"
    },
}

@router.message(F.text == "üé≤ –ö—É–±–∏–∫")  # –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ —Ç–µ–∫—Å—Ç—É —Å–æ–æ–±—â–µ–Ω–∏—è
async def roll_dice(message: types.Message):
    brand = random.choice(list(dealers.keys()))
    await message.answer_dice()
    time.sleep(2)
    dealer_info = dealers[brand]
    photo_path = dealer_info["car"]

    # –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª –∏ —Å–æ–∑–¥–∞–µ–º BufferedInputFile
    with open(photo_path, "rb") as file:
        photo = BufferedInputFile(file.read(), filename=photo_path)

    caption = (
        f"üé≤ –í–∞–º –≤—ã–ø–∞–ª –¥–∏–ª–µ—Ä—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä {brand}\n"
        f"{dealer_info['description']}\n"
        f"üìû –¢–µ–ª–µ—Ñ–æ–Ω: {dealer_info['phone']}\n"
        f"üì´ –ê–¥—Ä–µ—Å: {dealer_info['address']}"
    )
    await message.answer_photo(
        photo=photo,  # –ò—Å–ø–æ–ª—å–∑—É–µ–º BufferedInputFile
        caption=caption
    )

    time.sleep(1)

    builder = InlineKeyboardBuilder()
    builder.button(text="–î–∞", callback_data=f"answer_yes")
    builder.button(text="–ù–µ—Ç", callback_data=f"answer_not")


    await message.answer("–•–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É, —á—Ç–æ–±—ã –Ω–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∑–∞–ª—Å—è —Å –≤–∞–º–∏?", reply_markup=builder.as_markup())

@router.callback_query(F.data == "answer_yes")
async def yes_before_func(callback: types.CallbackQuery, state: FSMContext):
    await callback.message.delete()
    contact_keyboard = ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç", request_contact=True)],
            [KeyboardButton(text="–û—Ç–º–µ–Ω–∏—Ç—å")],
        ],
        resize_keyboard=True  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    )

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —ç—Ç–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
    await callback.message.answer("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–∞—à –∫–æ–Ω—Ç–∞–∫—Ç:", reply_markup=contact_keyboard)
    await callback.answer()

@router.message(F.text == "–û—Ç–º–µ–Ω–∏—Ç—å")
async def yes_func(callback: types.CallbackQuery, state: FSMContext):
    await callback.delete()
    await callback.answer("–í—ã –æ—Ç–º–µ–Ω–∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ!", reply_markup = get_main_menu(callback.from_user.id))


@router.callback_query(F.data == "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç")
async def yes_func(callback: types.CallbackQuery, state: FSMContext):
    await callback.message.delete()
    await callback.message.answer("‚úÖ –°–ø–∞—Å–∏–±–æ! –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏.", reply_markup=get_main_menu(callback.message.from_user.id))
    await callback.answer()
    for admin_id in ADMINS:
        await callback.message.bot.send_message(admin_id, f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–≤–∏–ª —Å–≤–æ–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏.\n\nüë§ –ò–º—è: {callback.message.contact.first_name}\n‚òéÔ∏è –ö–æ–Ω—Ç–∞–∫—Ç: {callback.message.contact.phone_number}\nüì± Telegram: @{callback.message.from_user.username}")
        await callback.answer()

@router.callback_query(F.data == "answer_not")
async def no_func(callback: types.CallbackQuery, state: FSMContext):
    await callback.message.delete()